{
  "environments": [
    {
      "exchangeName": "Translator-In",
      "variants": [
        {
          "name": "Text",
          "queueNamePattern": "Translator-{contentType}-{origin}-Queue",
          "consumer": {
            "binding": {
              "routingKeys": [ "raw.text.xyz.create" ]
            },
            "executable": "SampleService\\bin\\Debug\\SampleService.exe"
          },
          "router": {
            "binding": {
              "routingKeys": [ "raw.text.abc.create" ]
            },
            "executable": "simulation",
            "publish": {
              "exchangeName": "Translator-Out",
              "modes": [
                {
                  "name": "create",
                  "routingKey": "doc.*.*.create"
                },
                {
                  "name": "delete",
                  "RoutingKey": "doc.*.*.delete"
                }
              ]
            }
          }

        },
        {
          "name": "Serial",
          "queueNamePattern": "Translator-{contentType}-{origin}-Queue",
          "router": {
            "binding": {
              "routingKeys": [ "raw.text.dpa.create" ]
            },
            "publish": {
              "exchangeName": "Translator-Out",
              "modes": [
                {
                  "name": "serial",
                  "routingKey": "doc.*.*.serial"
                }
              ]
            }
          }

        }

      ]
    },
    {
      "exchangeName": "EnricherCache-In",
      "variants": [
        {
          "name": "Refresh",
          "queueNamePattern": "EnricherCache-Refresh-Queue",
          "router": {
            "binding": {
              "routingKeys": [ "doc.*.*.create", "doc.*.*.serial" ]
            },
            "publish": {
              "exchangeName": "EnricherCache-Out",
              "modes": [
                {
                  "name": "create",
                  "routingKey": "doc.*.*.refresh"
                }
              ]
            }
          }
        },
        {
          "name": "Delete",
          "queueNamePattern": "EnricherCache-Delete-Queue",
          "consumer": {
            "binding": {
              "routingKeys": [ "doc.*.*.delete" ]
            }
          }
        }
      ]
    },
    {
      "exchangeName": "Indexer-In",
      "variants": [
        {
          "name": "Index",
          "queueNamePattern": "Indexer-Create-Queue",
          "router": {
            "binding": {
              "routingKeys": [ "doc.*.*.refresh" ]
            },
            "publish": {
              "exchangeName": "Indexer-Out",
              "modes": [
                {
                  "name": "index",
                  "routingKey": "doc.*.*.indexed"
                }
              ]
            }
          }
        },
        {
          "name": "Update",
          "queueNamePattern": "Indexer-Update-Queue",
          "consumer": {
            "binding": {
              "routingKeys": [ "partial.*.*.enrich" ]
            }
          }
        },
        {
          "name": "Delete",
          "queueNamePattern": "Indexer-Delete-Queue",
          "consumer": {
            "binding": {
              "routingKeys": [ "doc.*.*.delete" ]
            }
          }
        }
      ]
    },
    {
      "exchangeName": "Enricher-In",
      "variants": [
        {
          "name": "Text",
          "queueNamePattern": "Enricher-Text-TextEnricher-Queue",
          "router": {
            "binding": {
              "routingKeys": [ "doc.text.*.indexed" ]
            },
            "publish": {
              "exchangeName": "Enricher-Out",
              "modes": [
                {
                  "name": "enrich",
                  "routingKey": "partial.*.*.enrich"
                }
              ]
            }
          }
        }
      ]
    }
  ]
} 