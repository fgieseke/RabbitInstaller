{

  "desc": "Einstellungen für die Prod-Queue",
  "executableBasePath": "c:\\",
  "exchanges": [
    {
      "exchangeName": "System",
      "exchangeType": "Topic",
      "direction": "out",
      "durable": true,
      "autoDelete": false,
      "binding": {}
    },
    {
      "exchangeName": "Emitter-Out",
      "exchangeType": "Topic",
      "direction": "out",
      "durable": true,
      "autoDelete": false,
      "keepUnroutedMessages":  true,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "Translator-In",
            "routingKeys": [ "raw.#" ]
          },
          {
            "exchangeName": "Indexer-In",
            "routingKeys": [ "doc.#" ]
          }
        ]
      }
    },
    {
      "exchangeName": "Translator-In",
      "exchangeType": "Topic",
      "direction": "in",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false
    },
    {
      "exchangeName": "Translator-Out",
      "exchangeType": "Topic",
      "direction": "out",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "EnricherCache-In",
            "routingKeys": [ "doc.*.*.deleted", "doc.*.*.created" ]
          }
        ]
      }
    },
    {
      "exchangeName": "EnricherCache-In",
      "exchangeType": "Topic",
      "direction": "in",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false
    },
    {
      "exchangeName": "EnricherCache-Out",
      "exchangeType": "Topic",
      "direction": "out",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "Indexer-In",
            "routingKeys": [ "doc.*.*.refreshed" ]
          }
        ]
      }
    },
    {
      "exchangeName": "Indexer-In",
      "exchangeType": "Headers",
      "direction": "in",
      "durable": true,
      "autoDelete": false,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "IndexerAll",
            "arguments": {
              "Environment": ""
            }
          },
          {
            "exchangeName": "IndexerProd",
            "arguments": {
              "Environment": "prod"
            }
          },
          {
            "exchangeName": "IndexerHavarie",
            "arguments": {
              "Environment": "havarie"
            }
          }
        ]
      }
    },
    {
      "exchangeName": "IndexerAll",
      "exchangeType": "Fanout",
      "direction": "in",
      "durable": true,
      "autoDelete": false,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "IndexerProd",
            "routingKeys": [ "#" ]
          },
          {
            "exchangeName": "IndexerHavarie",
            "routingKeys": [ "#" ]
          }
        ]
      }

    },
    {
      "exchangeName": "IndexerProd",
      "exchangeType": "Topic",
      "direction": "in",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false
    },
    {
      "exchangeName": "IndexerHavarie",
      "exchangeType": "Topic",
      "direction": "in",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false
    },
    {
      "exchangeName": "Indexer-Out",
      "exchangeType": "Topic",
      "direction": "out",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "Enricher-In",
            "routingKeys": [ "doc.*.*.indexed" ]
          }
        ]
      }
    },
    {
      "exchangeName": "Enricher-In",
      "exchangeType": "Topic",
      "direction": "in",
      "durable": true,
      "keepUnroutedMessages": false,
      "autoDelete": false
    },
    {
      "exchangeName": "Enricher-Out",
      "exchangeType": "Topic",
      "direction": "out",
      "durable": true,
      "keepUnroutedMessages": true,
      "autoDelete": false,
      "binding": {
        "exchanges": [
          {
            "exchangeName": "Indexer-In",
            "routingKeys": [ "partial.#" ]
          },
          {
            "exchangeName": "EnricherCache-In",
            "routingKeys": [ "partial.#" ]
          }
        ]
      }
    }
  ]
}
